% !TEX root =  manual.tex

\section{Settings File}\label{sec:settings}

The file \path{settings.dat} controls the operation of most of the Distribution Sampling programs.

\begin{description}
    \item[MODEL\_OUTPUT\_DIRECTORY] (default: \path{model_output}) The directory (relative to the statistical analysis directory) where the model inputs and outputs can be found. See Section \ref{sec:DirectoryStructure} for the structure of this directory. If specified as a relative path, the path is considered to be relative to the statistical analysis directory.

    \item[EXPERIMENTAL\_RESULTS\_FILE] (default: \path{experimental_results.dat}) This file contains the observed values from the actual system being modeled. See Section \ref{sec:ObservationalData} for the format of this file. If specified as a relative path, the path is considered to be relative to the statistical analysis directory.

    \item[VERBOSE] (default: 0) Print warnings and other potentially useful information. When this option is set to false, the programs will exit silently when everything has succeeded.

    \item[READER\_VERBOSE] (default: 0) Print copious amounts of information while reading the data directory structure.

    \item[GENERATE\_TRAINING\_POINTS\_NUMBER\_OF\_POINTS] (default: 100) The number of training points generated by \path{madai_generate_training_points}

    \item[GENERATE\_TRAINING\_POINTS\_PARTITION\_BY\_PERCENTILE] (default: 1) If on, this will divide the parameter space up according to an even sampling of the percentile space. For example, of there are five samples to be taken in one dimension of the parameter space, then the values of the parameter will be determined by calculating the values of the parameter at percentiles 0, 0.25, 0.5, 0.75, and 1.0. For a uniformly-distributed parameter, this translates into an even sampling of the parameter in the range specified by the uniform distribution's minimum and maximum. For a Gaussian-distributed parameter, this translates into the sample parameter values corresponding to the percentile of the Gaussian distribution assigned to the parameter. 

    \item[GENERATE\_TRAINING\_POINTS\_STANDARD\_DEVIATIONS] (default: 3) If the prior distribution for a parameter is Gaussian, this specifies how far out should the uniformly-spaced sampled points go. It is defined as a multiple of the sigma parameter for the Gaussian distribution.

    \item[GENERATE\_TRAINING\_POINTS\_USE\_MAXIMIN] (default: false) Controls whether \path{madai_generate_training_points} uses the maximin algorithm to generate the training points. This algorithm attempts to find a Latin hypercube sampling that has a large minimimum distance between points in parameter space.

    \item[GENERATE\_TRAINING\_POINTS\_MAXIMIN\_TRIES] (default: 20) When \newline GENERATE\_TRAINING\_POINTS\_USE\_MAXIMIN is on, this option determines the number of Latin hypercubes that are generated when searching for one with the largest minimum distance between points in parameter space.

    \item[GENERATE\_POSTERIOR\_POINTS\_NUMBER\_OF\_POINTS] (default 20) After performing the MCMC trace, one may run the program \path{madai_generate_posterior_points} to generate a sample of points consistent with the posterior distribution.

    \item[PCA\_FRACTION\_RESOLVING\_POWER] (default: 0.95)  When \path{madai_train_emulator} is deciding how many principal components to retain, it considers the total resolving power of the model. The resolving power of a single principal component is $\sqrt{(1 + \lambda_i)}$, where $\lambda_i$ is the eigenvalue associated with that variable. The total resolving power is the product the resolving powers of all of the components. \path{madai_train_emulator} will retain enough components to keep this fraction of the resolving power.

    \item[EMULATOR\_COVARIANCE\_FUNCTION] (default: SQUARE\_EXPONENTIAL\_FUNCTION) See section \ref{sec:CovarianceFunctions}. Allowable values are SQUARE\_EXPONENTIAL\_FUNCTION, \newline POWER\_EXPONENTIAL\_FUNCTION, MATERN\_32\_FUNCTION, and \newline MATERN\_52\_FUNCTION.

    \item[EMULATOR\_REGRESSION\_ORDER] (default: 1) The assumed functional form of the model before Gaussian Process emulation. This is the order of the polynomial. 0, 1, 2, or 3.

    \item[EMULATOR\_NUGGET] (default: 0.001) $\theta_1$. See section \ref{sec:CovarianceFunctions}.

    \item[EMULATOR\_AMPLITUDE] (default: 1) $\theta_0$. See section \ref{sec:CovarianceFunctions}.

    \item[EMULATOR\_SCALE] (default: 0.01) See section \ref{sec:CovarianceFunctions}. The final value for each parameter's scale $\theta_{k+i}$ where $k$ depends on which covariance function has been chosen and $i$ is the parameter index will be EMULATOR\_SCALE times the width of the middle two quartiles of that parameter's prior distribution.

    \item[EMULATOR\_TRAINING\_RIGOR] (default: basic) Determines the rigor with which the emulator is trained. Currently, only the default value of ``basic'' is supported.

    \item[SAMPLER] (default: ``MetropolisHastings'') Determines which sampler to use to generate sample points. Available samplers are ``MetropolisHastings'' and ``PercentileGrid''.

    \item[SAMPLER\_NUMBER\_OF\_SAMPLES] (default: 100) How many samples should be generated in a trace. The default is small for testing purposes. Values around $10^6$ are recommended.

    \item[MCMC\_USE\_MODEL\_ERROR] (default: 0) Specifies whether error reported by the model should be used in the log likelihood calculation. Turning this off may make computation of the log likelihood faster at the cost of assuming that the model error is zero for each output.

    \item[MCMC\_NUMBER\_OF\_BURN\_IN\_SAMPLES] (default: 0) The number of samples to be discarded at the beginning of the MCMC run.

    \item[MCMC\_STEP\_SIZE] (default: 0.1) Specifies how big each step should be in the Metropolis-Hastings algorithm. (This will be scaled by the characteristic length of each parameter's prior distribution)

    \item[EXTERNAL\_MODEL\_EXECUTABLE] (default: none) Path to an external executable that follows the protocol for writing to stdout and reading from stdin assumed by the \path{madai_generate_trace} program. If this option is not set, \path{madai_generate_trace} uses a trained emulator to generate the trace.

    \item[EXTERNAL\_MODEL\_ARGUMENTS] (default: none) Arguments to pass to the executable pointed to by EXTERNAL\_MODEL\_EXECUTABLE. All arguments must be specified on a single line.

    \item[EMULATE\_QUIET] (default: 0)

    \item[EMULATE\_WRITE\_HEADER] (default: 1)

    \item[POSTERIOR\_ANALYSIS\_DIRECTORY] (default: \path{posterior_model_output}) Specifies the directory where \path{madai_generate_posterior_samples} generates its results. If specified as a relative path, the path is considered to be relative to the statistical analysis directory.
\end{description}

